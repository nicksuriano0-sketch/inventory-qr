{% extends "base.html" %}
{% block content %}
<div class="d-flex align-items-center mb-3">
  <h2 class="mb-0">Inventory</h2>
  <a href="/add_item" class="btn btn-success ms-auto">+ Add Item</a>
</div>

{% if fittings and fittings|length %}
  <div class="table-responsive bg-white rounded shadow-sm">
    <table class="table align-middle mb-0">
      <thead class="table-light">
        <tr>
          <th>Name</th>
          <th>Category</th>
          <th>Quantity</th>
          <th>QR</th>
          <th style="width: 1%"></th>
        </tr>
      </thead>
      <tbody>
      {% for f in fittings %}
        <tr>
          <td class="fw-medium">{{ f.name }}</td>
          <td>{{ f.category }}</td>
          <td class="fw-semibold">{{ f.quantity or 0 }}</td>
          <td>
            {% if f.qr_code %}
              <img src="data:image/png;base64,{{ f.qr_code }}" alt="QR" style="width:72px;height:auto;">
            {% endif %}
          </td>
          <td class="text-nowrap">
            <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('edit_item', name=f.name) }}">Edit</a>
            <a class="btn btn-sm btn-primary" href="{{ url_for('scan', item_name=f.name) }}">Adjust</a>
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <div class="text-muted">No items yet. Click “Add Item” to create your first fitting.</div>
{% endif %}
{% endblock %}
